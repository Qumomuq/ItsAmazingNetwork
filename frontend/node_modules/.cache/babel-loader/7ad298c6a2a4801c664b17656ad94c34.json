{"ast":null,"code":"import React,{Fragment}from\"react\";import{Link}from\"react-router-dom\";import Moment from\"react-moment\";import{useSelector,useDispatch}from\"react-redux\";import{toggleLike,deletePost}from\"../../actions/post\";var PostItem=function PostItem(_ref){var post=_ref.post,showActions=_ref.showActions;var dispatch=useDispatch();var auth=useSelector(function(state){return state.auth;});return React.createElement(\"div\",{className:\"post bg-white p-1 my-1\"},React.createElement(\"div\",null,React.createElement(Link,{to:\"/profile/\".concat(post.user)},React.createElement(\"img\",{className:\"round-img\",src:post.avatar,alt:\"\"}),React.createElement(\"h4\",null,post.name))),React.createElement(\"div\",null,React.createElement(\"p\",{className:\"my-1\"},post.text),React.createElement(\"p\",{className:\"post-date\"},\"Posted on \",React.createElement(Moment,{format:\"DD/MM/YYYY\"},post.date)),showActions&&React.createElement(Fragment,null,React.createElement(\"button\",{type:\"button\",className:\"btn btn-light\",onClick:function onClick(e){dispatch(toggleLike(post.id));}},React.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),post.likes.length>0&&React.createElement(\"span\",null,\" \",post.likes.length)),React.createElement(Link,{to:\"/posts/\".concat(post.id),className:\"btn btn-primary\"},\"Discussion\",\" \",post.post_comments.length>0&&React.createElement(\"span\",{className:\"comment-count\"},post.post_comments.length)),!auth.loading&&auth.user.id===post.user&&React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return dispatch(deletePost(post.id));}},React.createElement(\"i\",{className:\"fas fa-times\"})))));};PostItem.defaultProps={showActions:true};export default PostItem;","map":{"version":3,"sources":["C:/Users/illus/WebstormProjects/ItsAmazingNetwork/frontend/src/components/posts/PostItem.js"],"names":["React","Fragment","Link","Moment","useSelector","useDispatch","toggleLike","deletePost","PostItem","post","showActions","dispatch","auth","state","user","avatar","name","text","date","e","id","likes","length","post_comments","loading","defaultProps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,oBAAvC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA2B,IAAxBC,CAAAA,IAAwB,MAAxBA,IAAwB,CAAlBC,WAAkB,MAAlBA,WAAkB,CAC1C,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,CAAAA,IAAI,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAV,EAAN,CAAxB,CAEA,MACE,4BAAK,SAAS,CAAC,wBAAf,EACE,+BACE,oBAAC,IAAD,EAAM,EAAE,oBAAcH,IAAI,CAACK,IAAnB,CAAR,EACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAEL,IAAI,CAACM,MAArC,CAA6C,GAAG,CAAC,EAAjD,EADF,CAEE,8BAAKN,IAAI,CAACO,IAAV,CAFF,CADF,CADF,CAOE,+BACE,yBAAG,SAAS,CAAC,MAAb,EAAqBP,IAAI,CAACQ,IAA1B,CADF,CAEE,yBAAG,SAAS,CAAC,WAAb,eACY,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BR,IAAI,CAACS,IAAlC,CADZ,CAFF,CAKGR,WAAW,EACV,oBAAC,QAAD,MACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAE,iBAAAS,CAAC,CAAI,CACZR,QAAQ,CAACL,UAAU,CAACG,IAAI,CAACW,EAAN,CAAX,CAAR,CACD,CALH,EAOE,yBAAG,SAAS,CAAC,kBAAb,EAPF,CAQGX,IAAI,CAACY,KAAL,CAAWC,MAAX,CAAoB,CAApB,EAAyB,oCAAQb,IAAI,CAACY,KAAL,CAAWC,MAAnB,CAR5B,CADF,CAYE,oBAAC,IAAD,EAAM,EAAE,kBAAYb,IAAI,CAACW,EAAjB,CAAR,CAA+B,SAAS,CAAC,iBAAzC,eACa,GADb,CAEGX,IAAI,CAACc,aAAL,CAAmBD,MAAnB,CAA4B,CAA5B,EACC,4BAAM,SAAS,CAAC,eAAhB,EACGb,IAAI,CAACc,aAAL,CAAmBD,MADtB,CAHJ,CAZF,CAoBG,CAACV,IAAI,CAACY,OAAN,EAAiBZ,IAAI,CAACE,IAAL,CAAUM,EAAV,GAAiBX,IAAI,CAACK,IAAvC,EACC,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,OAAO,CAAE,yBAAMH,CAAAA,QAAQ,CAACJ,UAAU,CAACE,IAAI,CAACW,EAAN,CAAX,CAAd,EAHX,EAKE,yBAAG,SAAS,CAAC,cAAb,EALF,CArBJ,CANJ,CAPF,CADF,CAgDD,CArDD,CAuDAZ,QAAQ,CAACiB,YAAT,CAAwB,CACtBf,WAAW,CAAE,IADS,CAAxB,CAIA,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toggleLike, deletePost } from \"../../actions/post\";\r\n\r\nconst PostItem = ({ post, showActions }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const auth = useSelector(state => state.auth);\r\n\r\n  return (\r\n    <div className=\"post bg-white p-1 my-1\">\r\n      <div>\r\n        <Link to={`/profile/${post.user}`}>\r\n          <img className=\"round-img\" src={post.avatar} alt=\"\" />\r\n          <h4>{post.name}</h4>\r\n        </Link>\r\n      </div>\r\n      <div>\r\n        <p className=\"my-1\">{post.text}</p>\r\n        <p className=\"post-date\">\r\n          Posted on <Moment format=\"DD/MM/YYYY\">{post.date}</Moment>\r\n        </p>\r\n        {showActions && (\r\n          <Fragment>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-light\"\r\n              onClick={e => {\r\n                dispatch(toggleLike(post.id));\r\n              }}\r\n            >\r\n              <i className=\"fas fa-thumbs-up\"></i>\r\n              {post.likes.length > 0 && <span> {post.likes.length}</span>}\r\n            </button>\r\n\r\n            <Link to={`/posts/${post.id}`} className=\"btn btn-primary\">\r\n              Discussion{\" \"}\r\n              {post.post_comments.length > 0 && (\r\n                <span className=\"comment-count\">\r\n                  {post.post_comments.length}\r\n                </span>\r\n              )}\r\n            </Link>\r\n            {!auth.loading && auth.user.id === post.user && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                onClick={() => dispatch(deletePost(post.id))}\r\n              >\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPostItem.defaultProps = {\r\n  showActions: true\r\n};\r\n\r\nexport default PostItem;\r\n"]},"metadata":{},"sourceType":"module"}