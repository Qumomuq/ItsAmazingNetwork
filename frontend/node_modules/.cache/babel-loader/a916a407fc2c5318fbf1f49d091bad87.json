{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\illus\\\\WebstormProjects\\\\ItsAmazingNetwork\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\illus\\\\WebstormProjects\\\\ItsAmazingNetwork\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{setAlert}from\"./alert\";import{GET_POSTS,GET_POST,POST_ERROR,UPDATE_LIKES,DELETE_POST,ADD_POST,ADD_COMMENT,REMOVE_COMMENT}from\"./types\";// Get posts\nexport var getPosts=function getPosts(){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/a/posts\");case 3:res=_context.sent;dispatch({type:GET_POSTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}());};// Get post\nexport var getPost=function getPost(postId){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/posts/\".concat(postId));case 3:res=_context2.sent;dispatch({type:GET_POST,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());};// Toggle Like\nexport var toggleLike=function toggleLike(postId){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post(\"/api/posts/\".concat(postId,\"/like\"));case 3:res=_context3.sent;dispatch({type:UPDATE_LIKES,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}());};// Delete Post\nexport var deletePost=function deletePost(postId){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"/api/posts/\".concat(postId));case 3:dispatch({type:DELETE_POST,payload:postId});dispatch(setAlert(\"Post Removed\",\"success\"));_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}());};// Add Post\nexport var addPost=function addPost(formData){return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context5.prev=1;_context5.next=4;return axios.post(\"/api/posts\",formData,config);case 4:res=_context5.sent;dispatch({type:ADD_POST,payload:res.data});dispatch(setAlert(\"Post Added\",\"success\"));_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](1);dispatch({type:POST_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[1,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}());};// Add Comment\nexport var addComment=function addComment(postId,formData){return(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context6.prev=1;_context6.next=4;return axios.post(\"/api/posts/\".concat(postId,\"/comments\"),formData,config);case 4:res=_context6.sent;dispatch({type:ADD_COMMENT,payload:res.data});dispatch(setAlert(\"Comment Added\",\"success\"));_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](1);dispatch({type:POST_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[1,9]]);}));return function(_x6){return _ref6.apply(this,arguments);};}());};// Delete Comment\nexport var deleteComment=function deleteComment(postId,commentId){return(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios.delete(\"/api/posts/comments/\".concat(commentId));case 3:dispatch({type:REMOVE_COMMENT,payload:commentId});dispatch(setAlert(\"Comment Removed\",\"success\"));_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[0,7]]);}));return function(_x7){return _ref7.apply(this,arguments);};}());};","map":{"version":3,"sources":["C:/Users/illus/WebstormProjects/ItsAmazingNetwork/frontend/src/actions/post.js"],"names":["axios","setAlert","GET_POSTS","GET_POST","POST_ERROR","UPDATE_LIKES","DELETE_POST","ADD_POST","ADD_COMMENT","REMOVE_COMMENT","getPosts","dispatch","get","res","type","payload","data","msg","response","statusText","status","getPost","postId","toggleLike","post","deletePost","delete","addPost","formData","config","headers","addComment","deleteComment","commentId"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  POST_ERROR,\r\n  UPDATE_LIKES,\r\n  DELETE_POST,\r\n  ADD_POST,\r\n  ADD_COMMENT,\r\n  REMOVE_COMMENT\r\n} from \"./types\";\r\n\r\n// Get posts\r\nexport const getPosts = () => async dispatch => {\r\n  try {\r\n    const res = await axios.get(\"/a/posts\");\r\n\r\n    dispatch({ type: GET_POSTS, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get post\r\nexport const getPost = postId => async dispatch => {\r\n  try {\r\n    const res = await axios.get(`/api/posts/${postId}`);\r\n\r\n    dispatch({ type: GET_POST, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Toggle Like\r\nexport const toggleLike = postId => async dispatch => {\r\n  try {\r\n    const res = await axios.post(`/api/posts/${postId}/like`);\r\n\r\n    dispatch({ type: UPDATE_LIKES, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Post\r\nexport const deletePost = postId => async dispatch => {\r\n  try {\r\n    await axios.delete(`/api/posts/${postId}`);\r\n\r\n    dispatch({ type: DELETE_POST, payload: postId });\r\n    dispatch(setAlert(\"Post Removed\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Add Post\r\nexport const addPost = formData => async dispatch => {\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\" }\r\n  };\r\n  try {\r\n    const res = await axios.post(\"/api/posts\", formData, config);\r\n\r\n    dispatch({ type: ADD_POST, payload: res.data });\r\n    dispatch(setAlert(\"Post Added\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Add Comment\r\nexport const addComment = (postId, formData) => async dispatch => {\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\" }\r\n  };\r\n  try {\r\n    const res = await axios.post(\r\n      `/api/posts/${postId}/comments`,\r\n      formData,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: ADD_COMMENT, payload: res.data });\r\n    dispatch(setAlert(\"Comment Added\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Comment\r\nexport const deleteComment = (postId, commentId) => async dispatch => {\r\n  try {\r\n    await axios.delete(`/api/posts/comments/${commentId}`);\r\n\r\n    dispatch({ type: REMOVE_COMMENT, payload: commentId });\r\n    dispatch(setAlert(\"Comment Removed\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: POST_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}