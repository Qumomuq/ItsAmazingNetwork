{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\illus\\\\WebstormProjects\\\\ItsAmazingNetwork\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\illus\\\\WebstormProjects\\\\ItsAmazingNetwork\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{setAlert}from\"../actions/alert\";import{GET_PROFILE,GET_PROFILES,GET_REPOS,GITHUB_ERROR,PROFILE_ERROR,UPDATE_PROFILE,CLEAR_PROFILE,ACCOUNT_DELETED}from\"./types\";// Get Current User Profile\nexport var getCurrentProfile=function getCurrentProfile(){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:CLEAR_PROFILE});_context.prev=1;_context.next=4;return axios.get(\"/api/profile/me\");case 4:res=_context.sent;dispatch({type:GET_PROFILE,payload:res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());};// Get All Profiles\nexport var getProfiles=function getProfiles(){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/profiles\");case 3:res=_context2.sent;dispatch({type:GET_PROFILES,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());};// Get Profile by ID\nexport var getProfileById=function getProfileById(userId){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/profile/\".concat(userId));case 3:res=_context3.sent;dispatch({type:GET_PROFILE,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}());};// Get Github Repos\nexport var getGithubRepos=function getGithubRepos(username){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"/api/github/\".concat(username));case 3:res=_context4.sent;dispatch({type:GET_REPOS,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:GITHUB_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}());};// Create or update profile\nexport var createProfile=function createProfile(formData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,body,res,errors;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};body=JSON.stringify(formData);_context5.next=5;return axios.post(\"/api/profile\",body,config);case 5:res=_context5.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?\"Profile Updated\":\"Profile Created\",\"success\"));if(!edit){history.push(\"/dashboard\");}_context5.next=19;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data;if(errors[\"status\"]){errors[\"status\"].forEach(function(msg){return dispatch(setAlert(\"Status: \".concat(msg),\"danger\"));});}if(errors[\"skills\"]){errors[\"skills\"].forEach(function(msg){return dispatch(setAlert(\"Skills: \".concat(msg),\"danger\"));});}if(errors[\"bio\"]){errors[\"bio\"].forEach(function(msg){return dispatch(setAlert(\"Bio: \".concat(msg),\"danger\"));});}if(errors[\"website\"]){errors[\"website\"].forEach(function(msg){return dispatch(setAlert(\"Website: \".concat(msg),\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 19:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x5){return _ref5.apply(this,arguments);};}());};// Add Experience\nexport var addExperience=function addExperience(formData,history){return(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,body,res,errors;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;if(formData[\"to_date\"]===\"\"){delete formData.to_date;}config={headers:{\"Content-Type\":\"application/json\"}};body=JSON.stringify(formData);_context6.next=6;return axios.post(\"/api/profile/experience\",body,config);case 6:res=_context6.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Experience added\",\"success\"));history.push(\"/dashboard\");_context6.next=20;break;case 12:_context6.prev=12;_context6.t0=_context6[\"catch\"](0);errors=_context6.t0.response.data;if(errors[\"title\"]){errors[\"title\"].forEach(function(msg){return dispatch(setAlert(\"Title: \".concat(msg),\"danger\"));});}if(errors[\"company\"]){errors[\"company\"].forEach(function(msg){return dispatch(setAlert(\"Company: \".concat(msg),\"danger\"));});}if(errors[\"location\"]){errors[\"location\"].forEach(function(msg){return dispatch(setAlert(\"Location: \".concat(msg),\"danger\"));});}if(errors[\"from_date\"]){dispatch(setAlert(\"From Date is required\",\"danger\"));}dispatch({type:PROFILE_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 20:case\"end\":return _context6.stop();}}},_callee6,null,[[0,12]]);}));return function(_x6){return _ref6.apply(this,arguments);};}());};// Add Education\nexport var addEducation=function addEducation(formData,history){return(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,body,res,errors;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;if(formData[\"to_date\"]===\"\"){delete formData.to_date;}config={headers:{\"Content-Type\":\"application/json\"}};body=JSON.stringify(formData);_context7.next=6;return axios.post(\"/api/profile/education\",body,config);case 6:res=_context7.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Education added\",\"success\"));history.push(\"/dashboard\");_context7.next=20;break;case 12:_context7.prev=12;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data;if(errors[\"school\"]){errors[\"school\"].forEach(function(msg){return dispatch(setAlert(\"School: \".concat(msg),\"danger\"));});}if(errors[\"degree\"]){errors[\"degree\"].forEach(function(msg){return dispatch(setAlert(\"Degree: \".concat(msg),\"danger\"));});}if(errors[\"field_of_study\"]){errors[\"field_of_study\"].forEach(function(msg){return dispatch(setAlert(\"Field of Study: \".concat(msg),\"danger\"));});}if(errors[\"from_date\"]){dispatch(setAlert(\"From Date is required\",\"danger\"));}dispatch({type:PROFILE_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 20:case\"end\":return _context7.stop();}}},_callee7,null,[[0,12]]);}));return function(_x7){return _ref7.apply(this,arguments);};}());};// Delete Experience\nexport var deleteExperience=function deleteExperience(id){return(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.delete(\"/api/profile/experience/\".concat(id));case 3:res=_context8.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Experience Removed\",\"success\"));_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}());};// Delete Education\nexport var deleteEducation=function deleteEducation(id){return(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return axios.delete(\"/api/profile/education/\".concat(id));case 3:res=_context9.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Education Removed\",\"success\"));_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context9.t0.response.statusText,status:_context9.t0.response.status}});case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,8]]);}));return function(_x9){return _ref9.apply(this,arguments);};}());};// Delete Account and profile\nexport var deleteAccount=function deleteAccount(){return(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!window.confirm(\"Are you sure? This can not be undone!\")){_context10.next=12;break;}_context10.prev=1;_context10.next=4;return axios.delete(\"/api/profile\");case 4:dispatch({type:CLEAR_PROFILE});dispatch({type:ACCOUNT_DELETED});dispatch(setAlert(\"Your account has been deleted permanently\"));_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context10.t0.response.statusText,status:_context10.t0.response.status}});case 12:case\"end\":return _context10.stop();}}},_callee10,null,[[1,9]]);}));return function(_x10){return _ref10.apply(this,arguments);};}());};","map":{"version":3,"sources":["C:/Users/illus/WebstormProjects/ItsAmazingNetwork/frontend/src/actions/profile.js"],"names":["axios","setAlert","GET_PROFILE","GET_PROFILES","GET_REPOS","GITHUB_ERROR","PROFILE_ERROR","UPDATE_PROFILE","CLEAR_PROFILE","ACCOUNT_DELETED","getCurrentProfile","dispatch","type","get","res","payload","data","msg","response","statusText","status","getProfiles","getProfileById","userId","getGithubRepos","username","createProfile","formData","history","edit","config","headers","body","JSON","stringify","post","push","errors","forEach","addExperience","to_date","addEducation","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"../actions/alert\";\r\n\r\nimport {\r\n  GET_PROFILE,\r\n  GET_PROFILES,\r\n  GET_REPOS,\r\n  GITHUB_ERROR,\r\n  PROFILE_ERROR,\r\n  UPDATE_PROFILE,\r\n  CLEAR_PROFILE,\r\n  ACCOUNT_DELETED\r\n} from \"./types\";\r\n\r\n// Get Current User Profile\r\nexport const getCurrentProfile = () => async dispatch => {\r\n  dispatch({ type: CLEAR_PROFILE });\r\n  try {\r\n    const res = await axios.get(\"/api/profile/me\");\r\n    dispatch({ type: GET_PROFILE, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get All Profiles\r\nexport const getProfiles = () => async dispatch => {\r\n  try {\r\n    const res = await axios.get(\"/api/profiles\");\r\n    dispatch({ type: GET_PROFILES, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get Profile by ID\r\nexport const getProfileById = userId => async dispatch => {\r\n  try {\r\n    const res = await axios.get(`/api/profile/${userId}`);\r\n    dispatch({ type: GET_PROFILE, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get Github Repos\r\nexport const getGithubRepos = username => async dispatch => {\r\n  try {\r\n    const res = await axios.get(`/api/github/${username}`);\r\n    dispatch({ type: GET_REPOS, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GITHUB_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Create or update profile\r\nexport const createProfile = (\r\n  formData,\r\n  history,\r\n  edit = false\r\n) => async dispatch => {\r\n  try {\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    };\r\n\r\n    const body = JSON.stringify(formData);\r\n\r\n    const res = await axios.post(\"/api/profile\", body, config);\r\n\r\n    dispatch({ type: GET_PROFILE, payload: res.data });\r\n\r\n    dispatch(setAlert(edit ? \"Profile Updated\" : \"Profile Created\", \"success\"));\r\n\r\n    if (!edit) {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  } catch (err) {\r\n    const errors = err.response.data;\r\n\r\n    if (errors[\"status\"]) {\r\n      errors[\"status\"].forEach(msg =>\r\n        dispatch(setAlert(`Status: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"skills\"]) {\r\n      errors[\"skills\"].forEach(msg =>\r\n        dispatch(setAlert(`Skills: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"bio\"]) {\r\n      errors[\"bio\"].forEach(msg => dispatch(setAlert(`Bio: ${msg}`, \"danger\")));\r\n    }\r\n\r\n    if (errors[\"website\"]) {\r\n      errors[\"website\"].forEach(msg =>\r\n        dispatch(setAlert(`Website: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Add Experience\r\nexport const addExperience = (formData, history) => async dispatch => {\r\n  try {\r\n    if (formData[\"to_date\"] === \"\") {\r\n      delete formData.to_date;\r\n    }\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    };\r\n\r\n    const body = JSON.stringify(formData);\r\n    const res = await axios.post(\"/api/profile/experience\", body, config);\r\n\r\n    dispatch({ type: UPDATE_PROFILE, payload: res.data });\r\n    dispatch(setAlert(\"Experience added\", \"success\"));\r\n\r\n    history.push(\"/dashboard\");\r\n  } catch (err) {\r\n    const errors = err.response.data;\r\n\r\n    if (errors[\"title\"]) {\r\n      errors[\"title\"].forEach(msg =>\r\n        dispatch(setAlert(`Title: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"company\"]) {\r\n      errors[\"company\"].forEach(msg =>\r\n        dispatch(setAlert(`Company: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"location\"]) {\r\n      errors[\"location\"].forEach(msg =>\r\n        dispatch(setAlert(`Location: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"from_date\"]) {\r\n      dispatch(setAlert(\"From Date is required\", \"danger\"));\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Add Education\r\nexport const addEducation = (formData, history) => async dispatch => {\r\n  try {\r\n    if (formData[\"to_date\"] === \"\") {\r\n      delete formData.to_date;\r\n    }\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    };\r\n\r\n    const body = JSON.stringify(formData);\r\n    const res = await axios.post(\"/api/profile/education\", body, config);\r\n\r\n    dispatch({ type: UPDATE_PROFILE, payload: res.data });\r\n    dispatch(setAlert(\"Education added\", \"success\"));\r\n\r\n    history.push(\"/dashboard\");\r\n  } catch (err) {\r\n    const errors = err.response.data;\r\n\r\n    if (errors[\"school\"]) {\r\n      errors[\"school\"].forEach(msg =>\r\n        dispatch(setAlert(`School: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"degree\"]) {\r\n      errors[\"degree\"].forEach(msg =>\r\n        dispatch(setAlert(`Degree: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"field_of_study\"]) {\r\n      errors[\"field_of_study\"].forEach(msg =>\r\n        dispatch(setAlert(`Field of Study: ${msg}`, \"danger\"))\r\n      );\r\n    }\r\n\r\n    if (errors[\"from_date\"]) {\r\n      dispatch(setAlert(\"From Date is required\", \"danger\"));\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Experience\r\nexport const deleteExperience = id => async dispatch => {\r\n  try {\r\n    const res = await axios.delete(`/api/profile/experience/${id}`);\r\n\r\n    dispatch({ type: UPDATE_PROFILE, payload: res.data });\r\n\r\n    dispatch(setAlert(\"Experience Removed\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Education\r\nexport const deleteEducation = id => async dispatch => {\r\n  try {\r\n    const res = await axios.delete(`/api/profile/education/${id}`);\r\n\r\n    dispatch({ type: UPDATE_PROFILE, payload: res.data });\r\n\r\n    dispatch(setAlert(\"Education Removed\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Account and profile\r\nexport const deleteAccount = () => async dispatch => {\r\n  if (window.confirm(\"Are you sure? This can not be undone!\")) {\r\n    try {\r\n      await axios.delete(\"/api/profile\");\r\n\r\n      dispatch({ type: CLEAR_PROFILE });\r\n      dispatch({ type: ACCOUNT_DELETED });\r\n\r\n      dispatch(setAlert(\"Your account has been deleted permanently\"));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: PROFILE_ERROR,\r\n        payload: { msg: err.response.statusText, status: err.response.status }\r\n      });\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}